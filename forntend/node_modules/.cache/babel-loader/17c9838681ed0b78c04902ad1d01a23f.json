{"ast":null,"code":"var _jsxFileName = \"/Users/Haseeb/im_seeb/Bootcamp2020/food-store/src/App.js\";\nimport React from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\"; //redux\n\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\nimport { SET_AUTHENTICATED } from \"./redux/types\";\nimport { logoutAction, getUserData } from \"./redux/actions/authActions\"; //axios\n\nimport axios from \"./util/axios\"; //jwt-decode\n\nimport jwtDecode from \"jwt-decode\"; //material-ui\n\nimport { ThemeProvider as MuiThemeProvider } from \"@material-ui/core/styles\";\nimport createMuiTheme from \"@material-ui/core/styles/createMuiTheme\"; //theme\n\nimport themeFile from \"./util/theme\"; //components\n\nimport AppBar from \"./components/AppBar\";\nimport Footer from \"./components/Footer\"; //util\n\nimport ScrollToTop from \"./util/scrollToTop\"; //restrict routes\n\nimport { AuthRoute, SellerRoute, UserRoute } from \"./util/route\"; //pages\n\nimport home from \"./pages/home\";\nimport error404 from \"./pages/404\";\nimport signup from \"./pages/sign-up\";\nimport login from \"./pages/login\";\nimport addRestaurant from \"./pages/addRestaurant\";\nimport restaurant from \"./pages/restaurant\";\nimport sellerDash from \"./pages/sellerDashboard\";\nimport cart from \"./pages/cart\";\nimport orders from \"./pages/orders\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst theme = createMuiTheme(themeFile);\nconst token = localStorage.jwt;\n\nif (token) {\n  const decodedToken = jwtDecode(token); // console.log(decodedToken);\n\n  if (decodedToken.exp * 1000 < Date.now()) {\n    store.dispatch(logoutAction());\n    window.location.href = \"/login\";\n  } else {\n    store.dispatch({\n      type: SET_AUTHENTICATED\n    });\n    axios.defaults.headers.common[\"Authorization\"] = token;\n    store.dispatch(getUserData());\n  }\n}\n\nfunction App() {\n  return /*#__PURE__*/_jsxDEV(MuiThemeProvider, {\n    theme: theme,\n    children: /*#__PURE__*/_jsxDEV(Provider, {\n      store: store,\n      children: /*#__PURE__*/_jsxDEV(Router, {\n        children: [/*#__PURE__*/_jsxDEV(AppBar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ScrollToTop, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Switch, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/\",\n            component: home\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(AuthRoute, {\n            exact: true,\n            path: \"/login\",\n            component: login\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(AuthRoute, {\n            exact: true,\n            path: \"/register\",\n            component: signup\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(AuthRoute, {\n            exact: true,\n            path: \"/addrestaurant\",\n            component: addRestaurant\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(UserRoute, {\n            exact: true,\n            path: \"/order/:restName\",\n            component: restaurant\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(SellerRoute, {\n            exact: true,\n            path: \"/seller/dashboard\",\n            component: sellerDash\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(UserRoute, {\n            exact: true,\n            path: \"/cart\",\n            component: cart\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(UserRoute, {\n            exact: true,\n            path: \"/orders\",\n            component: orders\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(SellerRoute, {\n            exact: true,\n            path: \"/seller/orders\",\n            component: orders\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            component: error404\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n}\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/Haseeb/im_seeb/Bootcamp2020/food-store/src/App.js"],"names":["React","BrowserRouter","Router","Route","Switch","Provider","store","SET_AUTHENTICATED","logoutAction","getUserData","axios","jwtDecode","ThemeProvider","MuiThemeProvider","createMuiTheme","themeFile","AppBar","Footer","ScrollToTop","AuthRoute","SellerRoute","UserRoute","home","error404","signup","login","addRestaurant","restaurant","sellerDash","cart","orders","theme","token","localStorage","jwt","decodedToken","exp","Date","now","dispatch","window","location","href","type","defaults","headers","common","App"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\n\n//redux\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\n\nimport { SET_AUTHENTICATED } from \"./redux/types\";\nimport { logoutAction, getUserData } from \"./redux/actions/authActions\";\n\n//axios\nimport axios from \"./util/axios\";\n\n//jwt-decode\nimport jwtDecode from \"jwt-decode\";\n\n//material-ui\nimport { ThemeProvider as MuiThemeProvider } from \"@material-ui/core/styles\";\nimport createMuiTheme from \"@material-ui/core/styles/createMuiTheme\";\n\n//theme\nimport themeFile from \"./util/theme\";\n\n//components\nimport AppBar from \"./components/AppBar\";\nimport Footer from \"./components/Footer\";\n\n//util\nimport ScrollToTop from \"./util/scrollToTop\";\n\n//restrict routes\nimport { AuthRoute, SellerRoute, UserRoute } from \"./util/route\";\n\n//pages\nimport home from \"./pages/home\";\nimport error404 from \"./pages/404\";\nimport signup from \"./pages/sign-up\";\nimport login from \"./pages/login\";\nimport addRestaurant from \"./pages/addRestaurant\";\nimport restaurant from \"./pages/restaurant\";\nimport sellerDash from \"./pages/sellerDashboard\";\nimport cart from \"./pages/cart\";\nimport orders from \"./pages/orders\";\n\nconst theme = createMuiTheme(themeFile);\n\nconst token = localStorage.jwt;\n\nif (token) {\n  const decodedToken = jwtDecode(token);\n  // console.log(decodedToken);\n  if (decodedToken.exp * 1000 < Date.now()) {\n    store.dispatch(logoutAction());\n    window.location.href = \"/login\";\n  } else {\n    store.dispatch({ type: SET_AUTHENTICATED });\n    axios.defaults.headers.common[\"Authorization\"] = token;\n    store.dispatch(getUserData());\n  }\n}\n\nfunction App() {\n  return (\n    <MuiThemeProvider theme={theme}>\n      <Provider store={store}>\n        <Router>\n          <AppBar />\n          <ScrollToTop />\n          <Switch>\n            <Route exact path=\"/\" component={home} />\n            <AuthRoute exact path=\"/login\" component={login} />\n            <AuthRoute exact path=\"/register\" component={signup} />\n            <AuthRoute exact path=\"/addrestaurant\" component={addRestaurant} />\n            <UserRoute exact path=\"/order/:restName\" component={restaurant} />\n            <SellerRoute\n              exact\n              path=\"/seller/dashboard\"\n              component={sellerDash}\n            />\n            <UserRoute exact path=\"/cart\" component={cart} />\n            <UserRoute exact path=\"/orders\" component={orders} />\n            <SellerRoute exact path=\"/seller/orders\" component={orders} />\n            <Route component={error404} />\n          </Switch>\n          <Footer />\n        </Router>\n      </Provider>\n    </MuiThemeProvider>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}