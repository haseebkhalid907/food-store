{"ast":null,"code":"var _jsxFileName = \"/Users/Haseeb/im_seeb/Bootcamp2020/food-store/src/pages/orders.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport openSocket from \"socket.io-client\";\nimport { getOrders, socketStatusUpdate } from \"../redux/actions/dataActions\";\nimport OrderCard from \"../components/OrderCard\"; //material-ui\n\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({ ...theme.spreadThis,\n  para: {\n    fontSize: \"x-large\",\n    marginLeft: \"32%\"\n  },\n  title: {\n    margin: \"10px 0px 10px 130px\",\n    display: \"inline-block\",\n    marginRight: \"40%\"\n  }\n}));\n\nconst Orders = props => {\n  _s();\n\n  const dispatch = useDispatch();\n  const {\n    orders\n  } = useSelector(state => state.data);\n  const {\n    account: {\n      role\n    },\n    _id\n  } = useSelector(state => state.auth);\n  const classes = useStyles();\n  useEffect(() => {\n    dispatch(getOrders());\n    const socket = openSocket(process.env.REACT_APP_SERVER_URL);\n    socket.emit(\"add-user\", {\n      userId: _id\n    });\n    socket.on(\"orders\", data => {\n      if (data.action === \"update\") {\n        dispatch(socketStatusUpdate(data.order));\n      }\n\n      if (data.action === \"create\") {\n        dispatch(getOrders());\n        dispatch(getOrders());\n      }\n    });\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h5\",\n      className: classes.title,\n      children: \"Order History\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      item: true,\n      container: true,\n      direction: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 10,\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 2,\n          children: orders ? orders.length > 0 ? orders.map(order => /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 4,\n            children: /*#__PURE__*/_jsxDEV(OrderCard, {\n              order: order,\n              role: role\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 21\n            }, this)\n          }, order._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 19\n          }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n            className: classes.para,\n            children: \"No Orders present.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 17\n          }, this) : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 1\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Orders, \"7go9LkAoyDkQsPHTvOtOqA1iBr0=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useStyles];\n});\n\n_c = Orders;\nexport default Orders;\n\nvar _c;\n\n$RefreshReg$(_c, \"Orders\");","map":{"version":3,"sources":["/Users/Haseeb/im_seeb/Bootcamp2020/food-store/src/pages/orders.js"],"names":["React","useEffect","useDispatch","useSelector","openSocket","getOrders","socketStatusUpdate","OrderCard","makeStyles","Typography","Grid","useStyles","theme","spreadThis","para","fontSize","marginLeft","title","margin","display","marginRight","Orders","props","dispatch","orders","state","data","account","role","_id","auth","classes","socket","process","env","REACT_APP_SERVER_URL","emit","userId","on","action","order","length","map"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport openSocket from \"socket.io-client\";\n\nimport { getOrders, socketStatusUpdate } from \"../redux/actions/dataActions\";\nimport OrderCard from \"../components/OrderCard\";\n\n//material-ui\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Grid from \"@material-ui/core/Grid\";\n\nconst useStyles = makeStyles((theme) => ({\n  ...theme.spreadThis,\n  para: {\n    fontSize: \"x-large\",\n    marginLeft: \"32%\",\n  },\n  title: {\n    margin: \"10px 0px 10px 130px\",\n    display: \"inline-block\",\n    marginRight: \"40%\",\n  },\n}));\n\nconst Orders = (props) => {\n  const dispatch = useDispatch();\n  const { orders } = useSelector((state) => state.data);\n  const {\n    account: { role },\n    _id,\n  } = useSelector((state) => state.auth);\n  const classes = useStyles();\n\n  useEffect(() => {\n    dispatch(getOrders());\n    const socket = openSocket(process.env.REACT_APP_SERVER_URL);\n    socket.emit(\"add-user\", { userId: _id });\n    socket.on(\"orders\", (data) => {\n      if (data.action === \"update\") {\n        dispatch(socketStatusUpdate(data.order));\n      }\n      if (data.action === \"create\") {\n        dispatch(getOrders());\n        dispatch(getOrders());\n      }\n    });\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return (\n    <>\n      <Typography variant=\"h5\" className={classes.title}>\n        Order History\n      </Typography>\n      <Grid item container direction=\"row\">\n        <Grid item xs={12} sm={1} />\n        <Grid item xs={12} sm={10}>\n          <Grid container spacing={2}>\n            {orders ? (\n              orders.length > 0 ? (\n                orders.map((order) => (\n                  <Grid item xs={12} sm={4} key={order._id}>\n                    <OrderCard order={order} role={role} />\n                  </Grid>\n                ))\n              ) : (\n                <p className={classes.para}>No Orders present.</p>\n              )\n            ) : null}\n          </Grid>\n        </Grid>\n        <Grid item xs={12} sm={1} />\n      </Grid>\n    </>\n  );\n};\n\nexport default Orders;\n"]},"metadata":{},"sourceType":"module"}